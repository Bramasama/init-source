---
import "../styles/base.css";
const {
  title = "Init Source Ltd | Hire Proven Software & Tech Talent Fast",
  description = "AI-first, UK-based recruitment for software, data, and product professionals. Hire top talent in weeks, not months.",
  image = "https://initsource.co.uk/og-image.jpg"
} = Astro.props;
---

<html lang="en" data-ai-seo="true">
  <head>
    <!-- Dynamic, AI-driven meta tags and schema -->
    <slot name="head" />

    <!-- Smart SEO Defaults (AI can override via props or slot) -->
    <title>{title}</title>
    <meta name="description" content={description}>

    <!-- Open Graph (AI-ready for custom tags/props) -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://initsource.co.uk/" />
    <meta property="og:title" content={title} />
    <meta property="og:description" content={description} />
    <meta property="og:image" content={image} />

    <!-- Twitter Cards -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content={title} />
    <meta name="twitter:description" content={description} />
    <meta name="twitter:image" content={image} />

    <!-- Canonical and Mobile Friendly -->
    <link rel="canonical" href="https://initsource.co.uk/" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- AI-first Schema: EmploymentAgency, SearchAction (extendable with AI) -->
    <script type="application/ld+json">
      {JSON.stringify({
        "@context": "https://schema.org",
        "@type": "EmploymentAgency",
        "name": "Init Source Ltd",
        "url": "https://initsource.co.uk/",
        "logo": image,
        "description": description,
        "email": "contact@initsource.co.uk",
        "telephone": "+442038334944",
        "address": {
          "@type": "PostalAddress",
          "streetAddress": "71-75 Shelton Street, Covent Garden",
          "postalCode": "WC2H 9JQ",
          "addressLocality": "London",
          "addressCountry": "GB"
        },
        "areaServed": ["GB"],
        "sameAs": [
          "https://www.linkedin.com/company/initsource"
        ],
        "contactPoint": [{
          "@type": "ContactPoint",
          "contactType": "Sales",
          "email": "contact@initsource.co.uk",
          "telephone": "+442038334944",
          "areaServed": "GB",
          "availableLanguage": ["en"]
        }]
      })}
    </script>
    <script type="application/ld+json">
      {JSON.stringify({
        "@context": "https://schema.org",
        "@type": "WebSite",
        "name": "Init Source Ltd",
        "url": "https://initsource.co.uk/",
        "publisher": {
          "@type": "Organization",
          "name": "Init Source Ltd",
          "logo": {
            "@type": "ImageObject",
            "url": image
          }
        },
        "potentialAction": {
          "@type": "SearchAction",
          "target": "https://initsource.co.uk/?q={search_term_string}",
          "query-input": "required name=search_term_string"
        }
      })}
    </script>

    <!-- AI Analytics/Optimization Scripts -->
    <script src="/scripts/ai-seo.js" type="module" async></script>
    <script is:inline>
      (() => {
        const storageKey = "theme";
        try {
          const prefersDark = window.matchMedia("(prefers-color-scheme: dark)")?.matches;
          const storedTheme = window.localStorage?.getItem(storageKey);
          const theme = storedTheme ?? (prefersDark ? "dark" : "light");
          const root = document.documentElement;
          root.classList.toggle("dark", theme === "dark");
          root.dataset.theme = theme;
        } catch (error) {
          // Ignore errors if localStorage is unavailable (e.g. during SSR).
        }
      })();
    </script>

    <!-- Favicon -->
    <link rel="icon" type="image/png" sizes="48x48" href="/favicon-48x48.png" />
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#007BFF" />
    <link rel="icon" type="image/x-icon" href="/favicon.ico" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
  </head>
  <body class="bg-white text-slate-900 transition-colors duration-300 ease-in-out dark:bg-slate-950 dark:text-slate-100">
    <slot />
  </body>
</html>
